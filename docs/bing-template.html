<!DOCTYPE html>
<html>
<head>
    <title>必应壁纸(Bing Wallpaper) | 細水長流</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="每日超清必应壁纸(Bing Wallpaper UHD 4K)下载">
    <meta name="keywords" content="bing wallpaper, 必应壁纸, 必应4k壁纸, 必应超清壁纸下载">
    <link rel="stylesheet" href="/css/w3.css">
    <script src="/js/fuse.min.js" async></script>
    <script src="/js/w3.js" async></script>
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
        }
        .bgimg-header {
            background-image: url("${head_img_url}&pid=hp&w=2000");
            height: 103%;
            position: relative;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            display: none; /* 最初隐藏大图 */
        }
        .smallImg-header {
            background-image: url("${head_img_url}&pid=hp&w=480"); /* 使用小图 */
            filter: blur(15px);
            -webkit-filter: blur(15px);
            position: relative;
            height: 103%;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            transition: opacity 5s; /* 平滑过渡效果 */
        }
        .bigImg {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            border-radius: 10px;
        }
        .smallImg{
            filter: blur(15px);
            -webkit-filter: blur(15px);
        }
        .w3-tag{
            border-radius: 8px;
        }
        .img-btn{
            background: rgba(255, 255, 255, 0.43);
            border: none;
            cursor: pointer;
            display: none;
            position: absolute;
            right: 30px;
            top: 10px;
            border-radius: 8px;
        }
        .img-btn:hover{
            color:#fff!important;background-color:#4CAF50!important;
            box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)
        }
        .darkmode--activated .w3-third p {
            color:white;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3229255600842063"
     crossorigin="anonymous"></script>

</head>
<script>
    function headerImgloading() {
        var bgImg = document.querySelector('.bgimg-header');
        var smallImg = document.querySelector('.smallImg-header');
        // 创建一个新的图片对象以监控加载状态
        var img = new Image();
        img.src = '${head_img_url}&pid=hp&w=2000'; // 从背景图中提取URL
        // 小图逐渐变透明
        smallImg.style.opacity = 0.3;
        img.onload = function() {
            // 当大图加载完成时，首先显示大图
            bgImg.style.display = "block";
            smallImg.style.display = "none";
        };
    }
    window.onload = headerImgloading; // 页面加载时执行
    function imgloading(oImg) {
        var n = 0;
        var timer = setInterval(function () {
            n++;
            oImg.style.opacity = n * n / 50;
            if (n * n >= 50) {
                clearInterval(timer);
            }
            ;
        }, 50);
    };
</script>
<body>
<div class="smallImg-header"></div> <!-- 模糊的小图 -->
<div class="bgimg-header">
    <div class="w3-display-middle w3-padding-large w3-wide w3-text-light-grey w3-center">
        <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">${head_title}</h1>
        <div class=" w3-padding-large w3-text-light-grey" style="max-width: 800px">
            <p>${head_img_desc}</p>
        </div>
        <h5 class="w3-hide-large" style="white-space:nowrap">Bing Wallpaper</h5>
    </div>
</div>
<menu class="w3-display-container w3-content w3-center" style="max-width:100%; height: 10px">
    <div class="w3-bar w3-light-grey w3-round w3-display-bottommiddle w3-card  w3-round-xlarge">
        <a href="/" class="w3-bar-item w3-button w3-hover-green">首页</a>
        <a href="#portfolio" class="w3-bar-item w3-button w3-hover-green"  onclick="w3_open()">归档</a>
        <a href="/zh-cn/" class="w3-bar-item w3-button w3-hover-green">中国</a>
        <a href="https://github.com/niumoo/bing-wallpaper" target="_blank" class="w3-bar-item w3-button w3-hover-green  w3-hide-small">GitHub</a>
        <input id="search" type="text" class="w3-bar-item w3-input w3-round-xlarge w3-hide-small" placeholder="找壁纸" style="width: 150px">
    </div>
</menu>

<!-- Sidebar (hidden by default) -->
<sidebar class="w3-sidebar w3-bar-block w3-card w3-top w3-xlarge w3-animate-left" style="display:none;z-index:2;max-width:200px;min-width:100px" id="mySidebar">
    <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button">收起</a>
    ${sidabar}
</sidebar>


<div class="w3-main w3-content w3-padding" style="max-width:1200px;">

    <!-- First Photo Grid-->
    <div class="w3-row-padding w3-padding-16 w3-center" id="img_list">
        ${img_card_list}
    </div>
    <div class=" w3-margin">
        <div class="w3-container">
            <h4>按月份查看</h4>
        </div>
        <div class="w3-container w3-white">
            <p>
                ${month_history}
            </p>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="w3-center w3-light-grey w3-padding-48 w3-large">
    <p>本站所有图片均来源于必应搜索
        <br/>
        Powered by <a href="https://github.com/niumoo/bing-wallpaper">Github.com/niumoo/bing-wallpaper</a>！
    </p>
</footer>
<script src="/js/search.js"></script>
<script>
    // Script to open and close sidebar
    function w3_open() {
        document.getElementById("mySidebar").style.display = "block";
    }

    function w3_close() {
        document.getElementById("mySidebar").style.display = "none";
    }
    // 监听滚动事件
    window.addEventListener('scroll', function () {
        var wenjuan = document.getElementById('wenjuan');
        if (window.scrollY > 400) { // 如果向下滚动超过100px
            wenjuan.style.display = 'block'; // 显示该div
        } else {
            wenjuan.style.display = 'none'; // 否则隐藏
        }
    });
</script>
</body>
</html>
